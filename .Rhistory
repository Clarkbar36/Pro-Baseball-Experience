colnames(clean.PBE_rosters)[colnames(clean.PBE_rosters) == ' Fastball (scale: 0-5)'] <- 'Fastball'
colnames(clean.PBE_rosters)[colnames(clean.PBE_rosters) == ' sac bunt'] <- 'Bunting'
View(clean.PBE_rosters)
View(clean.PBE_rosters)
positions <- data.frame('Position' = 1:10, 'position_name' = c('P','C','1B','2B','3B','SS','LF','CF','RF','DH'))
clean.PBE_rosters <- merge(clean.PBE_rosters,positions,by = "position", all.x = TRUE)
clean.PBE_rosters <- merge(clean.PBE_rosters,positions,by = "Position", all.x = TRUE)
View(positions)
View(clean.PBE_rosters)
install.packages('gdata')
library(gdata)
headers <- trim(headers)
View(headers)
source('~/Documents/GitHub/PBE/PBE_Audit.R')
PBE_rosters <- read.csv("pbe_rosters.csv", skip = 14, header = F)
headers <- read.csv("pbe_rosters.csv", skip = 11, header = F, nrows = 1, as.is = T)
headers <- trim(headers)
headers <- read.csv("pbe_rosters.csv", skip = 11, header = F, nrows = 1, as.is = T)
View(headers)
headers <- read.csv("pbe_rosters.csv", skip = 11, header = F, nrows = 1, as.is = T)
View(headers)
headers <- trim(headers)
View(headers)
PBE_rosters <- read.csv("pbe_rosters.csv", skip = 14, header = F)
colnames(PBE_rosters) =  headers
View(PBE_rosters)
View(PBE_rosters)
PBE_rosters <- PBE_rosters[c(-152)]
PBE_rosters <- PBE_rosters[!is.na(PBE_rosters$`team_id`),]
clean.PBE_rosters <- PBE_rosters[-c(2,7,8:18,22:26,32,38:45,48,50,55:59,70:122,135:151)]
positions <- data.frame('Position' = 1:10, 'position_name' = c('P','C','1B','2B','3B','SS','LF','CF','RF','DH'))
clean.PBE_rosters <- merge(clean.PBE_rosters,positions,by = "Position", all.x = TRUE)
colnames(clean.PBE_rosters)[colnames(clean.PBE_rosters) == 'ID'] <- 'Player_ID'
colnames(clean.PBE_rosters)[colnames(clean.PBE_rosters) == 'Infield Range'] <- 'Range'
colnames(clean.PBE_rosters)[colnames(clean.PBE_rosters) == 'Infield Error'] <- 'Error'
colnames(clean.PBE_rosters)[colnames(clean.PBE_rosters) == 'Infield Arm'] <- 'Arm'
colnames(clean.PBE_rosters)[colnames(clean.PBE_rosters) == 'CatcherAbil'] <- 'Catcher Ability'
colnames(clean.PBE_rosters)[colnames(clean.PBE_rosters) == 'Fastball (scale: 0-5)'] <- 'Fastball'
colnames(clean.PBE_rosters)[colnames(clean.PBE_rosters) == 'sac bunt'] <- 'Bunting'
View(clean.PBE_rosters)
colnames(clean.PBE_rosters)[colnames(clean.PBE_rosters) == '//id'] <- 'Player_ID'
source('~/Documents/GitHub/PBE/PBE_Audit.R')
View(clean.PBE_rosters)
source('~/Documents/GitHub/PBE/PBE_Audit.R')
View(clean.PBE_rosters)
source('~/Documents/GitHub/PBE/PBE_Audit.R')
View(clean.PBE_rosters)
source('~/Documents/GitHub/PBE/PBE_Audit.R')
handeness <- data.frame(Bats = 1:3, Hand_Bats = c('R','L','S'))
View(handeness)
clean.PBE_rosters <- merge(clean.PBE_rosters,b.handenesss, all.x = TRUE)
b.handeness <- data.frame(Bats = 1:3, Hand_Bats = c('R','L','S'))
clean.PBE_rosters <- merge(clean.PBE_rosters,b.handenesss, all.x = TRUE)
clean.PBE_rosters <- merge(clean.PBE_rosters,b.handeness, all.x = TRUE)
View(clean.PBE_rosters)
t.handeness <- data.frame(Bats = 1:2, Hand_Bats = c('R','L'))
clean.PBE_rosters <- merge(clean.PBE_rosters,t.handeness, all.x = TRUE)
View(clean.PBE_rosters)
b.handeness <- data.frame(Bats = 1:3, Hand_Bats = c('R','L','S'))
clean.PBE_rosters <- merge(clean.PBE_rosters,b.handeness, all.x = TRUE)
t.handeness <- data.frame(Throws = 1:2, Hand_Bats = c('R','L'))
clean.PBE_rosters <- merge(clean.PBE_rosters,t.handeness, all.x = TRUE)
b.handeness <- data.frame(Bats = 1:3, Hand_Bats = c('R','L','S'))
clean.PBE_rosters <- merge(clean.PBE_rosters,b.handeness, all.x = TRUE)
t.handeness <- data.frame(Throws = 1:2, Hand_Throws = c('R','L'))
clean.PBE_rosters <- merge(clean.PBE_rosters,t.handeness, all.x = TRUE)
write.csv(clean.PBE_rosters,"cleaned_pbe_rosters.csv",row.names = FALSE)
vel <- data.frame(Velocity = 2:20, c('80 - 83',
'83 - 85',
'84 - 86',
'85 - 87',
'86 - 88',
'87 - 89',
'88 - 90',
'89 - 91',
'90 - 92',
'91 - 93',
'92 - 94',
'93 - 95',
'94 - 96',
'95 - 97',
'96 - 98',
'97 - 99',
'98 - 100',
'99 - 100',
'100'))
View(vel)
vel <- data.frame(Velocity = 2:20,Velocity_label c('80 - 83',
'83 - 85',
'84 - 86',
'85 - 87',
'86 - 88',
'87 - 89',
'88 - 90',
'89 - 91',
'90 - 92',
'91 - 93',
'92 - 94',
'93 - 95',
'94 - 96',
'95 - 97',
'96 - 98',
'97 - 99',
'98 - 100',
'99 - 100',
'100'))
vel <- data.frame(Velocity = 2:20,Velocity_label = c('80 - 83',
'83 - 85',
'84 - 86',
'85 - 87',
'86 - 88',
'87 - 89',
'88 - 90',
'89 - 91',
'90 - 92',
'91 - 93',
'92 - 94',
'93 - 95',
'94 - 96',
'95 - 97',
'96 - 98',
'97 - 99',
'98 - 100',
'99 - 100',
'100'))
View(vel)
clean.PBE_rosters$Velocity <- 0
View(clean.PBE_rosters)
headers <- read.csv("pbe_rosters.csv", skip = 11, header = F, nrows = 1, as.is = T)
headers <- trim(headers)
PBE_rosters <- read.csv("pbe_rosters.csv", skip = 14, header = F)
colnames(PBE_rosters) =  headers
PBE_rosters <- PBE_rosters[c(-152)]
PBE_rosters <- PBE_rosters[!is.na(PBE_rosters$`team_id`),]
clean.PBE_rosters <- PBE_rosters[-c(2,7,8:18,22:26,32,38:45,48,50,55:59,70:122,135:151)]
positions <- data.frame('Position' = 1:10, 'Position_Name' = c('P','C','1B','2B','3B','SS','LF','CF','RF','DH'))
clean.PBE_rosters <- merge(clean.PBE_rosters,positions,by = "Position", all.x = TRUE)
b.handeness <- data.frame(Bats = 1:3, Hand_Bats = c('R','L','S'))
clean.PBE_rosters <- merge(clean.PBE_rosters,b.handeness, all.x = TRUE)
t.handeness <- data.frame(Throws = 1:2, Hand_Throws = c('R','L'))
clean.PBE_rosters <- merge(clean.PBE_rosters,t.handeness, all.x = TRUE)
vel <- data.frame(Velocity = 2:20,Velocity_label = c('80 - 83',
'83 - 85',
'84 - 86',
'85 - 87',
'86 - 88',
'87 - 89',
'88 - 90',
'89 - 91',
'90 - 92',
'91 - 93',
'92 - 94',
'93 - 95',
'94 - 96',
'95 - 97',
'96 - 98',
'97 - 99',
'98 - 100',
'99 - 100',
'100'))
if(clean.PBE_rosters$Position_Name == 'P'){
clean.PBE_rosters$New_Velocity <- clean.PBE_rosters$Velocity
} else {
clean.PBE_rosters$New_Velocity <- 0
}
View(clean.PBE_rosters)
View(clean.PBE_rosters)
clean.PBE_rosters$New_Velocity <- ifelse(clean.PBE_rosters$Position_Name == 'P',clean.PBE_rosters$Velocity,0)
View(clean.PBE_rosters)
clean.PBE_rosters$Velocity <- ifelse(clean.PBE_rosters$Position_Name == 'P',clean.PBE_rosters$Velocity,0)
View(clean.PBE_rosters)
vel <- data.frame(Velocity = 0:20,Velocity_label = c('0','0'
'80 - 83',
'83 - 85',
'84 - 86',
'85 - 87',
'86 - 88',
'87 - 89',
'88 - 90',
'89 - 91',
'90 - 92',
'91 - 93',
'92 - 94',
'93 - 95',
'94 - 96',
'95 - 97',
'96 - 98',
'97 - 99',
'98 - 100',
'99 - 100',
'100'))
vel <- data.frame(Velocity = 0:20,Velocity_label = c('0','0',
'80 - 83',
'83 - 85',
'84 - 86',
'85 - 87',
'86 - 88',
'87 - 89',
'88 - 90',
'89 - 91',
'90 - 92',
'91 - 93',
'92 - 94',
'93 - 95',
'94 - 96',
'95 - 97',
'96 - 98',
'97 - 99',
'98 - 100',
'99 - 100',
'100'))
View(vel)
source('~/Documents/GitHub/PBE/PBE_Audit.R')
View(clean.PBE_rosters)
vel_lbl <- vel[,1]
vel_lbl <- vel[,2]
vel_lbl
vel_lbl <- as.charcter(vel[,2])
vel_lbl <- as.character(vel[,2])
TPE_Vel_Cost <- data.frame(Velocity_label = vel_lbl,TPE_cost = 0,0,30,30,30,30,30,30,50,50,50,50,50,50,75,75,75,75,75,75)
View(TPE_Vel_Cost)
TPE_Vel_Cost <- data.frame(Velocity_label = vel_lbl,TPE_cost = c(0,0,30,30,30,30,30,30,50,50,50,50,50,50,75,75,75,75,75,75))
TPE_Vel_Cost <- data.frame(Velocity_label = vel_lbl,TPE_cost = c(0,0,30,30,30,30,30,30,30,50,50,50,50,50,50,75,75,75,75,75,75))
View(TPE_Vel_Cost)
View(clean.PBE_rosters)
write.csv(clean.PBE_rosters,"test.csv",row.names = FALSE)
vel <- data.frame(Velocity = 0:20,Velocity_label = c('0','0',
'80 - 83',
'83 - 85',
'84 - 86',
'85 - 87',
'86 - 88',
'87 - 89',
'88 - 90',
'89 - 91',
'90 - 92',
'91 - 93',
'92 - 94',
'93 - 95',
'94 - 96',
'95 - 97',
'96 - 98',
'97 - 99',
'98 - 100',
'99 - 100',
'100'),TPE_cost = c(0,0,30,30,30,30,30,30,30,50,50,50,50,50,50,75,75,75,75,75,75))
View(vel)
clean.PBE_rosters <- merge(clean.PBE_rosters,vel,all.x = TRUE)
View(clean.PBE_rosters)
View(vel)
write.csv(clean.PBE_rosters,"test.csv",row.names = FALSE)
clean.PBE_rosters$Full_name <- paste(clean.PBE_rosters$FirstName,clean.PBE_rosters$LastName)
write.csv(clean.PBE_rosters,"test.csv",row.names = FALSE)
clean.PBE_rosters$`Team Name` <- ifelse(clean.PBE_rosters$team_id == 0,"Free Agent",clean.PBE_rosters$`Team Name`)
View(clean.PBE_rosters)
library(tidyverse)
library(dplyr)
library(gdata)
setwd("~/Documents/GitHub/PBE")
headers <- read.csv("pbe_rosters.csv", skip = 11, header = F, nrows = 1, as.is = T)
headers <- trim(headers)
PBE_rosters <- read.csv("pbe_rosters.csv", skip = 14, header = F)
colnames(PBE_rosters) =  headers
PBE_rosters <- PBE_rosters[c(-152)]
PBE_rosters <- PBE_rosters[!is.na(PBE_rosters$`team_id`),]
clean.PBE_rosters <- PBE_rosters[-c(2,7,8:18,22:26,32,38:45,48,50,55:59,70:122,135:151)]
positions <- data.frame('Position' = 1:10, 'Position_Name' = c('P','C','1B','2B','3B','SS','LF','CF','RF','DH'))
clean.PBE_rosters <- merge(clean.PBE_rosters,positions,by = "Position", all.x = TRUE)
b.handeness <- data.frame(Bats = 1:3, Hand_Bats = c('R','L','S'))
clean.PBE_rosters <- merge(clean.PBE_rosters,b.handeness, all.x = TRUE)
t.handeness <- data.frame(Throws = 1:2, Hand_Throws = c('R','L'))
clean.PBE_rosters <- merge(clean.PBE_rosters,t.handeness, all.x = TRUE)
clean.PBE_rosters$Velocity <- ifelse(clean.PBE_rosters$Position_Name == 'P',clean.PBE_rosters$Velocity,0)
vel <- data.frame(Velocity = 0:20,Velocity_label = c('0','0',
'80 - 83',
'83 - 85',
'84 - 86',
'85 - 87',
'86 - 88',
'87 - 89',
'88 - 90',
'89 - 91',
'90 - 92',
'91 - 93',
'92 - 94',
'93 - 95',
'94 - 96',
'95 - 97',
'96 - 98',
'97 - 99',
'98 - 100',
'99 - 100',
'100'),TPE_cost = c(0,0,30,30,30,30,30,30,30,50,50,50,50,50,50,75,75,75,75,75,75))
clean.PBE_rosters <- merge(clean.PBE_rosters,vel,all.x = TRUE)
colnames(clean.PBE_rosters)[colnames(clean.PBE_rosters) == '//id'] <- 'Player_ID'
colnames(clean.PBE_rosters)[colnames(clean.PBE_rosters) == 'Infield Range'] <- 'Range'
colnames(clean.PBE_rosters)[colnames(clean.PBE_rosters) == 'Infield Error'] <- 'Error'
colnames(clean.PBE_rosters)[colnames(clean.PBE_rosters) == 'Infield Arm'] <- 'Arm'
colnames(clean.PBE_rosters)[colnames(clean.PBE_rosters) == 'CatcherAbil'] <- 'Catcher Ability'
colnames(clean.PBE_rosters)[colnames(clean.PBE_rosters) == 'Fastball (scale: 0-5)'] <- 'Fastball'
colnames(clean.PBE_rosters)[colnames(clean.PBE_rosters) == 'sac bunt'] <- 'Bunting'
clean.PBE_rosters$Full_name <- paste(clean.PBE_rosters$FirstName,clean.PBE_rosters$LastName)
library(tidyverse)
library(dplyr)
library(gdata)
setwd("~/Documents/GitHub/PBE")
headers <- read.csv("pbe_rosters.csv", skip = 11, header = F, nrows = 1, as.is = T)
headers <- trim(headers)
PBE_rosters <- read.csv("pbe_rosters.csv", skip = 14, header = F)
colnames(PBE_rosters) =  headers
PBE_rosters <- PBE_rosters[c(-152)]
PBE_rosters <- PBE_rosters[!is.na(PBE_rosters$`team_id`),]
clean.PBE_rosters <- PBE_rosters[-c(2,7,8:18,22:26,32,38:45,48,50,55:59,70:122,135:151)]
positions <- data.frame('Position' = 1:10, 'Position_Name' = c('P','C','1B','2B','3B','SS','LF','CF','RF','DH'))
clean.PBE_rosters <- merge(clean.PBE_rosters,positions,by = "Position", all.x = TRUE)
b.handeness <- data.frame(Bats = 1:3, Hand_Bats = c('R','L','S'))
clean.PBE_rosters <- merge(clean.PBE_rosters,b.handeness, all.x = TRUE)
t.handeness <- data.frame(Throws = 1:2, Hand_Throws = c('R','L'))
clean.PBE_rosters <- merge(clean.PBE_rosters,t.handeness, all.x = TRUE)
clean.PBE_rosters$Velocity <- ifelse(clean.PBE_rosters$Position_Name == 'P',clean.PBE_rosters$Velocity,0)
vel <- data.frame(Velocity = 0:20,Velocity_label = c('0','0',
'80 - 83',
'83 - 85',
'84 - 86',
'85 - 87',
'86 - 88',
'87 - 89',
'88 - 90',
'89 - 91',
'90 - 92',
'91 - 93',
'92 - 94',
'93 - 95',
'94 - 96',
'95 - 97',
'96 - 98',
'97 - 99',
'98 - 100',
'99 - 100',
'100'))
#add to end of vel df:
# ,TPE_cost = c(0,0,30,30,30,30,30,30,30,50,50,50,50,50,50,75,75,75,75,75,75)
clean.PBE_rosters <- merge(clean.PBE_rosters,vel,all.x = TRUE)
colnames(clean.PBE_rosters)[colnames(clean.PBE_rosters) == '//id'] <- 'Player_ID'
colnames(clean.PBE_rosters)[colnames(clean.PBE_rosters) == 'Infield Range'] <- 'Range'
colnames(clean.PBE_rosters)[colnames(clean.PBE_rosters) == 'Infield Error'] <- 'Error'
colnames(clean.PBE_rosters)[colnames(clean.PBE_rosters) == 'Infield Arm'] <- 'Arm'
colnames(clean.PBE_rosters)[colnames(clean.PBE_rosters) == 'CatcherAbil'] <- 'Catcher Ability'
colnames(clean.PBE_rosters)[colnames(clean.PBE_rosters) == 'Fastball (scale: 0-5)'] <- 'Fastball'
colnames(clean.PBE_rosters)[colnames(clean.PBE_rosters) == 'sac bunt'] <- 'Bunting'
clean.PBE_rosters$Full_name <- paste(clean.PBE_rosters$FirstName,clean.PBE_rosters$LastName)
View(clean.PBE_rosters)
write.csv(clean.PBE_rosters,"test.csv",row.names = FALSE)
clean.PBE_rosters <- clean.PBE_rosters[c(52,5,7,6,48,4,49,3,50,1,51)]
library(tidyverse)
library(dplyr)
library(gdata)
setwd("~/Documents/GitHub/PBE")
headers <- read.csv("pbe_rosters.csv", skip = 11, header = F, nrows = 1, as.is = T)
headers <- trim(headers)
PBE_rosters <- read.csv("pbe_rosters.csv", skip = 14, header = F)
colnames(PBE_rosters) =  headers
PBE_rosters <- PBE_rosters[c(-152)]
PBE_rosters <- PBE_rosters[!is.na(PBE_rosters$`team_id`),]
clean.PBE_rosters <- PBE_rosters[-c(2,7,8:18,22:26,32,38:45,48,50,55:59,70:122,135:151)]
positions <- data.frame('Position' = 1:10, 'Position_Name' = c('P','C','1B','2B','3B','SS','LF','CF','RF','DH'))
clean.PBE_rosters <- merge(clean.PBE_rosters,positions,by = "Position", all.x = TRUE)
b.handeness <- data.frame(Bats = 1:3, Hand_Bats = c('R','L','S'))
clean.PBE_rosters <- merge(clean.PBE_rosters,b.handeness, all.x = TRUE)
t.handeness <- data.frame(Throws = 1:2, Hand_Throws = c('R','L'))
clean.PBE_rosters <- merge(clean.PBE_rosters,t.handeness, all.x = TRUE)
clean.PBE_rosters$Velocity <- ifelse(clean.PBE_rosters$Position_Name == 'P',clean.PBE_rosters$Velocity,0)
vel <- data.frame(Velocity = 0:20,Velocity_label = c('0','0',
'80 - 83',
'83 - 85',
'84 - 86',
'85 - 87',
'86 - 88',
'87 - 89',
'88 - 90',
'89 - 91',
'90 - 92',
'91 - 93',
'92 - 94',
'93 - 95',
'94 - 96',
'95 - 97',
'96 - 98',
'97 - 99',
'98 - 100',
'99 - 100',
'100'))
#add to end of vel df:
# ,TPE_cost = c(0,0,30,30,30,30,30,30,30,50,50,50,50,50,50,75,75,75,75,75,75)
clean.PBE_rosters <- merge(clean.PBE_rosters,vel,all.x = TRUE)
colnames(clean.PBE_rosters)[colnames(clean.PBE_rosters) == '//id'] <- 'Player_ID'
colnames(clean.PBE_rosters)[colnames(clean.PBE_rosters) == 'Infield Range'] <- 'Range'
colnames(clean.PBE_rosters)[colnames(clean.PBE_rosters) == 'Infield Error'] <- 'Error'
colnames(clean.PBE_rosters)[colnames(clean.PBE_rosters) == 'Infield Arm'] <- 'Arm'
colnames(clean.PBE_rosters)[colnames(clean.PBE_rosters) == 'CatcherAbil'] <- 'Catcher Ability'
colnames(clean.PBE_rosters)[colnames(clean.PBE_rosters) == 'Fastball (scale: 0-5)'] <- 'Fastball'
colnames(clean.PBE_rosters)[colnames(clean.PBE_rosters) == 'sac bunt'] <- 'Bunting'
clean.PBE_rosters$Full_name <- paste(clean.PBE_rosters$FirstName,clean.PBE_rosters$LastName)
clean.PBE_rosters <- clean.PBE_rosters[c(52,5,7,6,48,4,49,3,50,1,51,10:47)]
View(clean.PBE_rosters)
source('~/Documents/GitHub/PBE/PBE_Audit.R')
View(clean.PBE_rosters)
source('~/Documents/GitHub/PBE/PBE_Audit.R')
View(clean.PBE_rosters)
clean.PBE_rosters1 <- clean.PBE_rosters[,15:ncol(clean.PBE_rosters)]/2
View(clean.PBE_rosters1)
PBE_info <- clean.PBE_rosters[,1:14]
View(PBE_info)
PBE_real_stats <- clean.PBE_rosters[,15:ncol(clean.PBE_rosters)]/2
PBE.rosters.audit <- cbind(PBE_real_stats,PBE_info)
View(PBE.rosters.audit)
PBE.rosters.audit <- cbind(PBE_info,PBE_real_stats)
View(PBE.rosters.audit)
if (x <= 40){
test$test <- x;
}else if (x <= 50){
test$test <- 40 + ((x - 40) * 2)
}else if (x <= 60){
test$test <- 20 + 40 + ((x - 50) * 3)
}else if (x <= 70){
test$test <- 30 + 20 + 40 + ((x - 60) * 4)
}else if (x <= 80){
test$test <- 40 + 30 + 20 + 40 + ((x - 70) * 6)
}else if (x <= 90){
test$test <- 60 + 30 + 20 + 40 + ((x - 80) * 7)
}else{
test$test <- 70 + 60 + 30 + 20 + 40 + ((x - 90) * 8)
}
test <- data.frame(test = '')
View(test)
TPE_cost(PBE_real_stats$`Gap vL`)
TPE_cost(x = PBE_real_stats$`Gap vL`)
TPE_cost <- function(x){
if (x <= 40){
test$test <- x;
}else if (x <= 50){
test$test <- 40 + ((x - 40) * 2)
}else if (x <= 60){
test$test <- 20 + 40 + ((x - 50) * 3)
}else if (x <= 70){
test$test <- 30 + 20 + 40 + ((x - 60) * 4)
}else if (x <= 80){
test$test <- 40 + 30 + 20 + 40 + ((x - 70) * 6)
}else if (x <= 90){
test$test <- 60 + 30 + 20 + 40 + ((x - 80) * 7)
}else{
test$test <- 70 + 60 + 30 + 20 + 40 + ((x - 90) * 8)
}}
TPE_cost(x = PBE_real_stats$`Gap vL`)
TPE_cost(x = PBE_real_stats$`Gap vL`)
View(TPE_cost)
test <- sapply(PBE_real_stats, function(x)
ifelse(x <= 40,x,
ifelse(x <= 50,40 + ((x - 40) * 2),
ifelse(x <= 60,20 + 40 + ((x - 50) * 3),
ifelse(x <= 70,30 + 20 + 40 + ((x - 60) * 4),
ifelse(x <= 80,40 + 30 + 20 + 40 + ((x - 70) * 6),
ifelse(x <= 90,60 + 30 + 20 + 40 + ((x - 80) * 7),70 + 60 + 30 + 20 + 40 + ((x - 90) * 8))))))))
head(test)
View(PBE_real_stats)
40 + 30 + 20 + 40 + ((75 - 70) * 6)
View(PBE.rosters.audit)
test <- sapply(PBE.rosters.audit[,15:50], function(x)
ifelse(x <= 40,x,
ifelse(x <= 50,40 + ((x - 40) * 2),
ifelse(x <= 60,20 + 40 + ((x - 50) * 3),
ifelse(x <= 70,30 + 20 + 40 + ((x - 60) * 4),
ifelse(x <= 80,40 + 30 + 20 + 40 + ((x - 70) * 6),
ifelse(x <= 90,60 + 30 + 20 + 40 + ((x - 80) * 7),70 + 60 + 30 + 20 + 40 + ((x - 90) * 8))))))))
PBE.rosters.audit1 <- cbind(PBE_info,test)
View(PBE.rosters.audit1)
View(clean.PBE_rosters)
View(PBE.rosters.audit1)
View(PBE.rosters.audit)
View(PBE.rosters.audit)
PBE.rosters.audit$pitch_hit <- ifelse(PBE.rosters.audit$Position_Name != 'P','Hitter','Pitcher')
hit.PBE.rosters.audit <- subset(PBE.rosters.audit,PBE.rosters.audit$pitch_hit == 'Hitter')
pitch.PBE.rosters.audit <- subset(PBE.rosters.audit, PBE.rosters.audit$pitch_hit == "Pitcher")
View(hit.PBE.rosters.audit)
hit.PBE.rosters.audit <- hit.PBE.rosters.audit[-c(11:14,28:33,39:51)]
View(hit.PBE.rosters.audit)
PBE_real_stats <- round(clean.PBE_rosters[,15:ncol(clean.PBE_rosters)]/2,0)
View(PBE_real_stats)
PBE_info <- clean.PBE_rosters[,1:14]
PBE.rosters.audit <- cbind(PBE_info,PBE_real_stats)
PBE.rosters.audit$pitch_hit <- ifelse(PBE.rosters.audit$Position_Name != 'P','Hitter','Pitcher')
hit.PBE.rosters.audit <- subset(PBE.rosters.audit,PBE.rosters.audit$pitch_hit == 'Hitter')
pitch.PBE.rosters.audit <- subset(PBE.rosters.audit, PBE.rosters.audit$pitch_hit == "Pitcher")
hit.PBE.rosters.audit <- hit.PBE.rosters.audit[-c(11:14,28:33,39:51)]
View(hit.PBE.rosters.audit)
View(hit.PBE.rosters.audit)
hit.TPE <- sapply(hit.PBE.rosters.audit[,11:28], function(x)
ifelse(x <= 40,x,
ifelse(x <= 50,40 + ((x - 40) * 2),
ifelse(x <= 60,20 + 40 + ((x - 50) * 3),
ifelse(x <= 70,30 + 20 + 40 + ((x - 60) * 4),
ifelse(x <= 80,40 + 30 + 20 + 40 + ((x - 70) * 6),
ifelse(x <= 90,60 + 30 + 20 + 40 + ((x - 80) * 7),70 + 60 + 30 + 20 + 40 + ((x - 90) * 8))))))))
View(hit.PBE.rosters.audit)
hit.info <- hit.PBE.rosters.audit[c(1:10)]
View(hit.info)
hit.Total.TPE <- cbind(hit.info,hit.TPE)
View(hit.Total.TPE)
hit.Total.TPE$TPE <- rowsum(hit.Total.TPE[,11:28])
hit.Total.TPE$TPE <- rowsum(hit.Total.TPE[,11:28],group)
hit.Total.TPE$TPE <- rowSums(hit.Total.TPE[,11:28])
View(hit.Total.TPE)
